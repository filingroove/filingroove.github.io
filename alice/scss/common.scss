@import 'variables';
@import 'font';

@mixin transition($duration) {
	-webkit-transition: 	all $duration ease-out;
	-moz-transition: 	all $duration ease-out;
	-ms-transition: 	all $duration ease-out;
	-o-transition: 		all $duration ease-out;
	transition: 		all $duration ease-out;
}

@mixin no-back-transition() {
	-webkit-transition: 	none;
	-moz-transition: 	none;
	-ms-transition: 	none;
	-o-transition: 		none;
	transition: 		none;
}

@mixin hidden() {
	@include transition(0.4s);

	pointer-events: none; 
	opacity: 0;

	&.active {
		pointer-events: auto;
		opacity: 1;
	}

	&.modal {
		@extend &.active;

		background: $bg_modal;
	}

	&.overlay {
		opacity: 1;

		background: $bg_overlay;
	}



}

@mixin flex($justify, $align) {
	display: flex;
	justify-content: $justify;
	align-items: $align;
}

body {
	background: url(assets/novy-fon.jpg);
	width: 100vw;
	height: 100vh;
	overflow: hidden;
	font-size: 2vw;
}

#modal {
	@include hidden();
	
	height: 100vh;
	width: 100vw;

	position: fixed;
}

#loading {
	@include hidden();

	height: 15vh;
	width: 15vh;

	position: relative;
	top: 50%;
	margin-top: -7.5vh;
	left: 50%;
	margin-left: -7.5vh;

	background: url(assets/gears.svg) center no-repeat;

	background-size: 15vh;

	&.active {
		@include no-back-transition();
	}
}

#container {
	@include flex(center, center);

	width: 100%;
	height: 100%;
}


.page {	
	background: #FCFBE3;
	overflow: hidden;
	background-size: 100% 100%;
	background-repeat: no-repeat;
	font-family: 'eb_garamondregular', georgia;
	color: #2c190e;


	&.even {
		background-image: url('assets/page-odd.png');
		background-position: left center;

		.inner {
			padding: 1.9em 1.9em 2.4em 2.4em;
		}
	}

	&.odd {
		background-image: url('assets/page-even.png');
		background-position: right center;

		.inner {
			padding: 1.9em 2.4em 2.4em 1.9em;			
		}

	}

	&.hard {
		background: #3a2828;
		background-size: 100% 100%;

		.endpaper {
			width: 99%;
			height: 99%;
			margin-top: 0.5%;
			background-size: 100% 100%;
		}

		&.front {
			background-image: url('assets/cover-front.png');

			.endpaper {
				margin-left: 1%;
				background-image: url('assets/endpaper-front.png');
			}
		}

		&.back {
			background-image: url('assets/cover-back.png');

			.endpaper {
				background-image: url('assets/endpaper-back.png');
			}
		}
	}

	.inner {		
		width: 18.65em;
		height: 24.5em;
		overflow: hidden;
		font-size: 0.8em;		
		line-height: 1.25em;
		

		video {
			width: 18.65em;
		}

		p {
			display: block;
			width: 100%;
			font-size: 1.05em;
			max-height: 21.3em;
			margin: 0;
			overflow: hidden;
			text-align: justify;
		}

		.page-number {
			margin-top: 2em;
			font-size: 1.5em;
			text-align: center;
			overflow: visible;
		}

		&.type0, &.type1 {
			p {
				height: 6.4em;
			}

			.page-number { 
				margin-top: 0.5em;
			}
		}

		&.type1 {
			p {
				margin-bottom: 0.5em;
			}
		}

		&.type0 {
			p {
				margin-top: 0.5em;
			}
		}

		&.type2 {

		}
	}
}

@media screen and (min-aspect-ratio: 4/3) and (max-aspect-ratio: 16/10) {
	body {
		font-size: 2.5vw;
	}
}

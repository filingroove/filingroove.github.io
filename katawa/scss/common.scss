@import url(http://fonts.googleapis.com/css?family=Roboto&subset=latin,cyrillic-ext);
@import 'variables';
@import 'chessboard';

@font-face {
    font-family: 'playtime_cyrillicregular';
    src: 	url('playtime_cyr2-webfont.eot');
    src: 	url('playtime_cyr2-webfont.eot?#iefix') format('embedded-opentype'),
		url('playtime_cyr2-webfont.woff2') format('woff2'),
         	url('playtime_cyr2-webfont.woff') format('woff'),
         	url('playtime_cyr2-webfont.ttf') format('truetype'),
        	url('playtime_cyr2-webfont.svg#playtime_cyrillicregular') format('svg');
    font-weight: normal;
    font-style: normal;

}

@mixin transition($sec) {
	-webkit-transition: all $sec ease-out;
	-moz-transition: all $sec ease-out;
	-ms-transition: all $sec ease-out;
	-o-transition: all $sec ease-out;
	transition: all $sec ease-out;
}

body {
	background: url('assets/texture.png');
	font-family: 'playtime_cyrillicregular', comic-sans;
	width: 100vw;
	height: 100vh;
	overflow: hidden;
	color: $font;
	font-size: 2vw;
}

header {
	font-size: 1em;
	height: 15vh;

	.logo {
		height: 100%;
		width: 15vw;
		float: left;
		background: url('assets/logo.svg') center center no-repeat;
		background-size: 100%;
	}

	.menu {
		height: 100%;
		width: 65vw;
	}

}

a {
	color: $font;
	text-decoration: none;

	@include transition(0.2s);

	&:hover {
		color: rgba($font, 0.7);
	}
}

footer {
	font-family: 'Roboto', sans-serif;
	font-size: 0.5em;
	height: 17vh;
	position: fixed;
	bottom: 0px;

	.info {
		font-size: 2em;
		padding-left: 1.7em;


		&.email {
			background: url('assets/email.svg') no-repeat;
			background-position-y: 0.2em;
			background-size: 1.5em 1em;
		}

		&.mobile {
			background: url('assets/mobile.svg') no-repeat;
			background-position-y: 0.2em;
			background-size: 1.5em 1em;
		}
	}

	@include transition(0.3s);

	&.hide {
		margin-bottom: -50px;
		pointer-events: none;
	}
}

#container {
	padding: 0px 2.5vw;
}

#loader, #question, #error, #final, #not_found {
	position: relative;
	height: 68vh;
	width: 100%;
	font-size: 0.7em;
	top: 0px;

	@include transition(0.5s);

	&.hide {
		@include transition(0.5s);
		top: -50px;
		pointer-events: none;
	}
}

#question, #error, #final, #not_found {
	margin-top: -68vh;
	height: 85vh;
	overflow: hidden;

	&.crossfade {
		opacity: 0;
		pointer-events: none;
	}
}

#error, #final, #not_found {
	margin-top: -85vh;
}

#error, #not_found {
	justify-content: center;
	text-align: center;
	flex-direction: column;
}

#final {
	justify-content: center;
	flex-direction: column;

	.container {
		width: 65vw;
		height: 100%;
		text-align: center;
		display: flex;
		justify-content: space-around;
		flex-direction: column;

		h2 {
			margin: 0px;
		}

		em {
			display: block;
		}
	}

	form {
		width: 100%;
		height: 48vh;

		.column-left {
			width: 35%;
			padding: 0px 2%;
			float: left;
		}

		.column-right {
			width: 57%;
			padding: 0px 2%;
			float: left;
			height: 100%;
		}

		p {
			margin: 0.5em;
		}

		input {
			border-radius: 4px;
			display: block;
			border: 1px solid rgba(0,0,0,0.25);
			height: 1.5em;
			padding: 0.2em 4%;
			min-width: 91%;
			margin-bottom: 0.25em;
		}

		.flex {
			margin-bottom: 0.25em;
		}
	}

	.button-container {
		margin: 1.5em 0;
		justify-content: center;
	}

	#owl-container {
		
		width: 44%;
		margin: 0 auto;
		position: relative;
		z-index: 4;
		top: -96%;
		height: 96%;
		overflow: hidden;
		cursor: pointer;
	}

	#artwork-container {
		
		@extend #owl-container;
		
		pointer-events: none;
		top: 0;
		height: 100%;
		z-index: 9;
		
		&.ru {
			background: url(assets/Cover_rus.png) center center no-repeat;
			background-size: contain;
		}

		&.en {
			background: url(assets/Cover_eng.png) center center no-repeat;
			background-size: contain;
		}
	}

	.owl-item {
		margin-top: 1em;

		img {
			width: 100%;
			max-height: 100%;
		}
	}
}

.inner-q {
	width: 65vw;
	height: 25em;
	text-align: center;
	font-size: 1.05em;
	
	p {
		margin: 0.5em 0em;
	}

	img {
		height: 20em;
		box-shadow: 0px 0px 10px 1px rgba(#000000, 0.4);
		border-radius: 5px;
	}

	.ans-list {
		height: 20em;
		margin-top: -20em;
		list-style: none;
		justify-content: center;
  		flex-direction: column;
  		padding: 0;
	}

	.buttons {
		justify-content: center;
	}
}

	.answer, .answer-button {
		display: block;
		background: url('assets/answer.png') center no-repeat;
		min-width: 30vw;
		padding: 0.25em 0.5em;
		margin: 0.5em;
		background-size: 100% 100%;
		cursor: pointer;

		@include transition(0.3s);

		&:hover {
			opacity: 0.8;
		}

		&:active {
			opacity: 0.7;
		}

		&.chosen {
			color: #00c000
		}

	}

	.answer-button {
		min-width: 10vw;
		margin-top: 0px;
		border: none;

		&:focused {
			outline: none;
		}
	}

.border1 {
	background: url('assets/border1.png') no-repeat;
	background-size: 100% 100%;
}

.main {
	width: 65vw;
	height: 22em;

	.text {
		padding: 1em 2em;
	}
	
}

.margin-middle {
	margin: 0 auto;
}

.pull-left {
	float: left;
}

.pull-right {
	float: right;
}

.flex {
	display: flex;
	justify-content: space-between;
	align-items: center;
}

.btn { 
	display: block;
	text-align: center;

	&.btn-playtime {
		font-size: 1.2em;
		width: 30%;
		height: 1.5em;
		background: url('assets/marker_button.png') center center no-repeat;
		background-size: 100% 100%;
	}
}

#artwork {
	position: absolute;
	bottom: 0px;
	right: 0px;
	width: 35vw;
	height: 35vh;
	background: url('assets/home-footer.png') center bottom no-repeat;
	background-size: 100%;
	pointer-events: none;
	z-index: 999;

	@include transition(0.3s);

	&.hide {
		bottom: -50px;
	}
}

#gallery {
	width: 100%;

	#masonry-container {
		width: 85vw;
		margin: 0 auto;
	}

	.masonry-item {
		width: 25%;
		overflow: hidden;

		img {
			width: 95%;
			max-height: 95%;
			cursor: pointer;
		}

		.gallery-focus {
			display: none;
			position: fixed;
			width: 100vw;
			height: 100vh;

			background: rgba(#000, 0.4);

			&.focused {
				display: block;
			}
		}
	}
}

#modal-bg {
	opacity: 0;
	position: fixed;
	width: 100vw;
	height: 100vh;
	background-color: rgba(#000, 0.8);
	pointer-events:none;
	z-index: 9999;

	@include transition(0.25s);

	&.focused {
		opacity: 1;
		pointer-events: auto;
	}
}

#gallery-img {
	width: 100%;
	height: 100%;
	background-size: contain;
	background-repeat: no-repeat;
	background-position: center;
}

#about {
	height: 65vh;

	.inner {
		height: 14em;
		overflow: hidden;
	}
	.col-l {
		width: 20vw;
		float: left;

		ul {
			list-style: none;
			padding: 0 1em;
		}

		hr {
			width: 8em;
			border-color: $font;
			box-shadow: none;
		}
	}

	.col-r {
		width: 70vw;
		float: left;
		padding: 0 2.5vw;

		.about-section {
			opacity: 0;
			pointer-events: none;
			height: 14em;
			width: 20.9em;
			overflow: hidden;
			margin: 0 auto;

			box-shadow: 0px 0px 6px 0px rgba(#000, 0.6);

			@include transition(0.5s);

			&.main {
				width: 90%;
				padding: 0 5%;
				box-shadow: none;
				height: 14em;
				font-size: 0.8em;
				margin-bottom: 4em;

				strong {
					margin-top: 1em;
				}
			}					

			&.active {
				opacity: 1;
				pointer-events: auto;
			}

			&:nth-child(n+2) {
				margin-top: -14em;
			}

			&.rin {
				.about-inner-about {
					margin-top: 5em;
				}
			}

			&.emi {
				.about-inner-about {
					margin-top: 5em;
				}

				.sprite {
					margin-top: -0.2em;
				}
			}

			&.hanako {
				.about-inner-about {
					margin-top: 4.5em;
				}
			}

			&.lilly {
				.about-inner-about {
					margin-top: 5em;
				}

				.sprite {
					margin-top: -0.2em;
				}
			}

			&.shizune {
				.about-inner-about {
					margin-top: 6em;
				}

				.sprite {
					margin-top: -0.2em;
				}
			}

			video {
				width: 100%;
				margin: -1.75em 0em -1.75em -3.52em;
				width: 28em;
				overflow: hidden;
			}

			article {
				width: 100%;
				height: 100%;
				margin-top: -12.58em;
				background: rgba(#000,0.4);
				position: relative;
			}

			.sprite {
				width: 7em;
				margin-left: 0.75em;
				margin-top: -1.3em;
				float: left;
			}

			.about-inner-about {
				margin-left: 16.5em;
				margin-right: 0.8em;
				font-size: 0.5em;
				float: left;
				position: absolute;
				padding: 1em;
				opacity: 0.9;
			}

			strong {
				text-align: center;
				display: block;
				font-size: 2em;
			}
		}
	}
}

.hide {
	opacity: 0;
}

@media screen and (min-aspect-ratio: 4/3) and (max-aspect-ratio: 16/10) {
	#question, #error, #final, #not_found {
		height: 68vh;
		margin-top: -68vh;
	}

	#artwork {
		&.hide {
			opacity: 1;
			bottom: 0px;
		}
	}

	#final {
		.container {
			height: 65vh;
		}

		form {
			height: 35vh;
		}

		#owl-container {
			top: -92%;
			height: 85%;
		}

		#artwork-container {
			top: 0;
			height: 100%;
		}
	}

	#about {
		.inner {
			height: 23em;

			.about-section {
				width: 31.69em;
				height: 22em;

				video {
					margin: -1.75em 0em -1.75em -5.3em;
					width: 42.3em;
				}

				article {
					margin-top: -20.64em;
				}

				.sprite {
					width: 10.9em;
				}

				.about-inner-about {
					margin-left: 22rem;
					font-size: 0.8em;
					padding: 1.25em;
				}

				&.main {
					margin-bottom: 14em;
				}

				&:nth-child(n+2) {
					margin-top: -22em;
				}

				&.rin {
					.about-inner-about {
						margin-top: 4em;
					}
				}

				&.emi {
					.about-inner-about {
						margin-top: 4em;
					}

					.sprite {
						margin-top: -0.2em;
					}
				}

				&.hanako {
					.about-inner-about {
						margin-top: 3.5em;
					}
				}

				&.lilly {
					.about-inner-about {
						margin-top: 5em;
					}

					.sprite {
						margin-top: -0.2em;
					}
				}

				&.shizune {
					.about-inner-about {
						margin-top: 6em;
					}

					.sprite {
						margin-top: -0.2em;
					}
				}
			}
		}
	}

	footer {
		&.hide {
			opacity: 1;
			margin-bottom: 0px;
			pointer-events: auto;
		}
	}

}

